<VirtualHost *:80>
    # Deve puntare esattamente alla cartella public del tuo progetto
    DocumentRoot /var/www/html/public
    ProxyTimeout 300
    
    # Gestisce solo i file .php tramite PHP-FPM
    <FilesMatch \.php$>
        SetHandler "proxy:unix:/run/php-fpm/www.sock|fcgi://localhost"
    </FilesMatch>

    <Directory "/var/www/html/public">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>